Program received signal SIGFPE, Arithmetic exception.
[Switching to Thread 0x7fb507e476f0 (LWP 27865)]
0x00000000004a3622 in surfacehop (x=0x116b9940, y=0x10fdbc40, z=0x108fdf40, vx=0x13fec740, vy=0x13230d40, vz=0x12475340, nacx_old=0x1a37cbc0, nacy_old=0x19e56600, nacz_old=0x19930040, vx_old=0x1390ea40, 
    vy_old=0x12b53040, vz_old=0x11d97640, en_array_old=0x7fff0fe5cb40, dt=@0x7fff0fe5cc48) at surfacehop.f90:457
457            t(ist1,ist2)=t(ist1,ist2)*dtp/(pop(ist1,itrj))
Current language:  auto; currently fortran


TODO: some simple automatic testing....

check, whether we have everywhere 0.0d0
grep "0\.0" *f90 | grep -v d0
see this page: https://gcc.gnu.org/onlinedocs/gcc-3.3.5/g77/Overly-Convenient-Options.html#Overly-Convenient-Options

possible BUG: aliasing in shake_respa routines XtoU etc.
asi jen v abin.f90 u UtoX, ale zkontrolovat vsude
udelat rutinu move_arrays(transx,transy,transz,x,y,z)

instead of restart0.xyz, make restart.xyz.$it

check whether densities work

todo: unit conversions - look at amber/terachem
up to this, results compared to alpha version should be the same, if the atom masses are the same
(alpha version e.g. has m(Cl)=35.45 instead of 35.45d0)

make explicit interface everywhere (for functions not in modules), put them into module
allocate arrays..must be in modules...use automatic arrays for local arrays where needed
allocatable positions, velocities and momenta in modules, forces probably not?

todo: add "Job started at- " together with ABIN logo

bug: floating point exception when inose=1 and temp=1.0(or even 10)
present in alpha version as well
file nosehoover.f90:356
356           Gx(inh+1)=pnhx(iat,iw,inh)**2/Qm(iw)-temp
maybe just wrong default thermostat parameters?
see hollas@as67-1:~/TEST/PIMD.g09new
works with tau0>0.002, we should test this value for cases when NHC drifts
for PIMD with 4 beads, even temp=50K crushes!!


todo: getting compile time and printing it during execution see: http://computer-programming-forum.com/49-fortran/438586ee99d51bd9.htm
todo: MPI version for terachem
todo: nakonci odstranit ify v nosehoover.f90 lines, 28-29 - asi NE
todo: projit vsechna TODO v kodu
TODO: pri minimalizaci (ipimd=3) nedelat pocatecni rychlosti - asi neni treba
zkontrolovat format vypisovani movie a geom.dat v abin.dev

Write the state of random number generator into restart file,
Optional at the end of restart.xyz, its presence must be determined automatically
i.e. common block in ranlcfg.inp
common /xrandf/ x(np),last,init

init.F90, zakazat pimd bez stagingu a opravit hlasku o NH, line 255
TODO: convert all atom names strings to UPPPER CASE, must also change the comparisons in mass_init
see this:http://stackoverflow.com/questions/10759375/how-can-i-write-a-to-upper-or-to-lower-function-in-f90


zkontrolovat omezeni pro molpro12 na cpmscf na jeden multi


! pridat nejakou hlasku kdyz chybi GLE-A nebo GLE-C
init.F90 radek ~607-608 ..nechapu...restart.xyz tam vubec nemuze byt, kdyz irest.eq.0, asi smazat

###----UTILS
analyze_movie
cut_abin.....see slavicek@a11-11:~/CFConWATER/MD-TD  dodelat
xyz reordering
OOO....OHHH...H
awk 'BEGIN{i=1;j=1}{if($1=="H"){H1[i]=$0;getline;H2[i]=$0;i++}if($1=="O") {O[j]=$0;j++}}END{for(k=1;k<j;k++) {print O[k];print H1[k];print H2[k]}}' snap2005.xyz > o
HOHHOH....
awk '{}' $1


####FOR LATER VERSIONS ####################################
NAB - compile my own libnab.a library and pass al argumets through it
NAB - use new NAB version from AmberTools14
QMMM --- otestovat, udelat glycin + 10A vod 
OTESTOVAT SHAKE

EWALD jak je to s 1-4 interakcemi?,parametr scee
NORMAL MODES, shake , PIGLET
ELASTIC BAG


u PBC simulace se mirne lisi sily mme a mme2...nevime proc

--------------FOR TESTING------------------------
globalni termostat
spojit ams_init a nhc_init...inicializovat hybnosti
podivat se v gdb,zda jsme omezili pocatecni oscilace

pro pripadne PME je potreba modifikovat nbond_box!
funkce mme by nemela mit erfc
a co mme2? jak ted delame hessian?

http://archive.ambermd.org/201007/0619.html
amber11/AmberTools/test/nab/Run.ips


